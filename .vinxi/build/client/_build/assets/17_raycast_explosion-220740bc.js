import{c as C,d as M,C as x,f as y,S as A,A as S,a as l,G as b}from"./index-16d02734.js";import{h as v,b as t,F as d,m as s,e as u,S as h}from"./web-0901fd59.js";import{c as w,t as E}from"./index-cb1a4aba.js";import"./store-1bd1f121.js";import"./mat4-bfe45697.js";const m=(e=50)=>[Math.random()*e-e/2,Math.random()*e-e/2,Math.random()*e-e/2],F=e=>{const[r,n]=u(0),o=Array.from({length:10}).map(()=>({start:[0,0,0],end:m(5)})),c=({start:a,end:g})=>a.map((p,f)=>p*(1-r())+g[f]*r()),i=()=>{r()<1&&requestAnimationFrame(i),n(a=>Math.min(1,a+.01))};return i(),t(h,{get when(){return r()<1},get children(){return t(d,{each:o,children:a=>t(l,s({get position(){return c(a)},get scale(){return[1-r(),1-r(),1-r()]}},e))})}})},P=e=>{const[r,n]=u(!1),o=[Math.random(),Math.random(),Math.random()];return t(b,s(e,{get children(){return t(h,{get when(){return!r()},get fallback(){return t(F,{color:o})},get children(){return t(S,{onEvent:({hit:c})=>n(c),get children(){return t(l,{get color(){return r()?[1,1,1]:o}})}})}})}}))};function q(){const e=w(n=>E(n,33.333333333333336)),r=C();return v(()=>{e()&&r.castCursor()}),t(A,{background:[1,0,0,1],get children(){return t(M,{plugins:[r],get children(){return[t(d,{get each(){return Array.from({length:1e3}).map(()=>m())},children:n=>t(P,{position:n})}),t(x,s({active:!0,fov:33},y))]}})}})}export{q as default};
