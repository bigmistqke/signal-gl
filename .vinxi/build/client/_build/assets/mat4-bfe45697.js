var L=1e-6,S=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});function B(){var r=new S(16);return S!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function C(r){var n=new S(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n}function _(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function D(r,n){var e=n[0],i=n[1],v=n[2],a=n[3],s=n[4],A=n[5],l=n[6],c=n[7],f=n[8],h=n[9],z=n[10],y=n[11],w=n[12],g=n[13],m=n[14],d=n[15],F=e*A-i*s,p=e*l-v*s,x=e*c-a*s,b=i*l-v*A,M=i*c-a*A,R=v*c-a*l,T=f*g-h*w,I=f*m-z*w,N=f*d-y*w,O=h*m-z*g,P=h*d-y*g,Y=z*d-y*m,E=F*Y-p*P+x*O+b*N-M*I+R*T;return E?(E=1/E,r[0]=(A*Y-l*P+c*O)*E,r[1]=(v*P-i*Y-a*O)*E,r[2]=(g*R-m*M+d*b)*E,r[3]=(z*M-h*R-y*b)*E,r[4]=(l*N-s*Y-c*I)*E,r[5]=(e*Y-v*N+a*I)*E,r[6]=(m*x-w*R-d*p)*E,r[7]=(f*R-z*x+y*p)*E,r[8]=(s*P-A*N+c*T)*E,r[9]=(i*N-e*P-a*T)*E,r[10]=(w*M-g*x+d*F)*E,r[11]=(h*x-f*M-y*F)*E,r[12]=(A*I-s*O-l*T)*E,r[13]=(e*O-i*I+v*T)*E,r[14]=(g*p-w*b-m*F)*E,r[15]=(f*b-h*p+z*F)*E,r):null}function G(r,n,e){var i=n[0],v=n[1],a=n[2],s=n[3],A=n[4],l=n[5],c=n[6],f=n[7],h=n[8],z=n[9],y=n[10],w=n[11],g=n[12],m=n[13],d=n[14],F=n[15],p=e[0],x=e[1],b=e[2],M=e[3];return r[0]=p*i+x*A+b*h+M*g,r[1]=p*v+x*l+b*z+M*m,r[2]=p*a+x*c+b*y+M*d,r[3]=p*s+x*f+b*w+M*F,p=e[4],x=e[5],b=e[6],M=e[7],r[4]=p*i+x*A+b*h+M*g,r[5]=p*v+x*l+b*z+M*m,r[6]=p*a+x*c+b*y+M*d,r[7]=p*s+x*f+b*w+M*F,p=e[8],x=e[9],b=e[10],M=e[11],r[8]=p*i+x*A+b*h+M*g,r[9]=p*v+x*l+b*z+M*m,r[10]=p*a+x*c+b*y+M*d,r[11]=p*s+x*f+b*w+M*F,p=e[12],x=e[13],b=e[14],M=e[15],r[12]=p*i+x*A+b*h+M*g,r[13]=p*v+x*l+b*z+M*m,r[14]=p*a+x*c+b*y+M*d,r[15]=p*s+x*f+b*w+M*F,r}function H(r,n,e){var i=e[0],v=e[1],a=e[2],s,A,l,c,f,h,z,y,w,g,m,d;return n===r?(r[12]=n[0]*i+n[4]*v+n[8]*a+n[12],r[13]=n[1]*i+n[5]*v+n[9]*a+n[13],r[14]=n[2]*i+n[6]*v+n[10]*a+n[14],r[15]=n[3]*i+n[7]*v+n[11]*a+n[15]):(s=n[0],A=n[1],l=n[2],c=n[3],f=n[4],h=n[5],z=n[6],y=n[7],w=n[8],g=n[9],m=n[10],d=n[11],r[0]=s,r[1]=A,r[2]=l,r[3]=c,r[4]=f,r[5]=h,r[6]=z,r[7]=y,r[8]=w,r[9]=g,r[10]=m,r[11]=d,r[12]=s*i+f*v+w*a+n[12],r[13]=A*i+h*v+g*a+n[13],r[14]=l*i+z*v+m*a+n[14],r[15]=c*i+y*v+d*a+n[15]),r}function J(r,n,e){var i=e[0],v=e[1],a=e[2];return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=n[3]*i,r[4]=n[4]*v,r[5]=n[5]*v,r[6]=n[6]*v,r[7]=n[7]*v,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=n[11]*a,r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r}function K(r,n,e,i){var v=i[0],a=i[1],s=i[2],A=Math.hypot(v,a,s),l,c,f,h,z,y,w,g,m,d,F,p,x,b,M,R,T,I,N,O,P,Y,E,k;return A<L?null:(A=1/A,v*=A,a*=A,s*=A,l=Math.sin(e),c=Math.cos(e),f=1-c,h=n[0],z=n[1],y=n[2],w=n[3],g=n[4],m=n[5],d=n[6],F=n[7],p=n[8],x=n[9],b=n[10],M=n[11],R=v*v*f+c,T=a*v*f+s*l,I=s*v*f-a*l,N=v*a*f-s*l,O=a*a*f+c,P=s*a*f+v*l,Y=v*s*f+a*l,E=a*s*f-v*l,k=s*s*f+c,r[0]=h*R+g*T+p*I,r[1]=z*R+m*T+x*I,r[2]=y*R+d*T+b*I,r[3]=w*R+F*T+M*I,r[4]=h*N+g*O+p*P,r[5]=z*N+m*O+x*P,r[6]=y*N+d*O+b*P,r[7]=w*N+F*O+M*P,r[8]=h*Y+g*E+p*k,r[9]=z*Y+m*E+x*k,r[10]=y*Y+d*E+b*k,r[11]=w*Y+F*E+M*k,n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r)}function Q(r,n,e){var i=n[0],v=n[1],a=n[2],s=n[3],A=i+i,l=v+v,c=a+a,f=i*A,h=i*l,z=i*c,y=v*l,w=v*c,g=a*c,m=s*A,d=s*l,F=s*c;return r[0]=1-(y+g),r[1]=h+F,r[2]=z-d,r[3]=0,r[4]=h-F,r[5]=1-(f+g),r[6]=w+m,r[7]=0,r[8]=z+d,r[9]=w-m,r[10]=1-(f+y),r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function U(r,n){return r[0]=n[12],r[1]=n[13],r[2]=n[14],r}function j(r,n,e,i,v){var a=1/Math.tan(n/2),s;return r[0]=a/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,v!=null&&v!==1/0?(s=1/(i-v),r[10]=(v+i)*s,r[14]=2*v*i*s):(r[10]=-1,r[14]=-2*i),r}var V=j;function W(r,n,e,i){var v,a,s,A,l,c,f,h,z,y,w=n[0],g=n[1],m=n[2],d=i[0],F=i[1],p=i[2],x=e[0],b=e[1],M=e[2];return Math.abs(w-x)<L&&Math.abs(g-b)<L&&Math.abs(m-M)<L?_(r):(f=w-x,h=g-b,z=m-M,y=1/Math.hypot(f,h,z),f*=y,h*=y,z*=y,v=F*z-p*h,a=p*f-d*z,s=d*h-F*f,y=Math.hypot(v,a,s),y?(y=1/y,v*=y,a*=y,s*=y):(v=0,a=0,s=0),A=h*s-z*a,l=z*v-f*s,c=f*a-h*v,y=Math.hypot(A,l,c),y?(y=1/y,A*=y,l*=y,c*=y):(A=0,l=0,c=0),r[0]=v,r[1]=A,r[2]=f,r[3]=0,r[4]=a,r[5]=l,r[6]=h,r[7]=0,r[8]=s,r[9]=c,r[10]=z,r[11]=0,r[12]=-(v*w+a*g+s*m),r[13]=-(A*w+l*g+c*m),r[14]=-(f*w+h*g+z*m),r[15]=1,r)}export{S as A,L as E,_ as a,C as b,B as c,Q as f,U as g,D as i,W as l,G as m,V as p,K as r,J as s,H as t};
